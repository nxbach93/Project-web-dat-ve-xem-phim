<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>Ví dụ script JavaScript</title>
</head>
<body>

  <h2>Ví dụ script JavaScript</h2>

  <div>
    <p>Ví dụ đổi kiểu dữ liệu.</p>
    <button id="runBtn">Chạy script</button>
    <div id="output">Kết quả sẽ hiển thị ở đây.</div>
  </div>

  <hr>

  <div>
    <p>Ví dụ hàm add(a, b) — giá trị gán sẵn.</p>
    <div id="output2">Kết quả hàm add sẽ hiển thị ở đây.</div>
  </div>

  <hr>

  <div>
    <p>Ví dụ hàm ẩn danh (multiply).</p>
    <div id="output3">Kết quả multiply sẽ hiển thị ở đây.</div>
  </div>

  <hr>

  <div>
    <p>Ví dụ arrow function</p>
    <div id="output4">Kết quả arrow function sẽ hiển thị ở đây.</div>
  </div>

  <hr>

  <div>
    <p>Ví dụ callback function</p>
    <div id="output5">Kết quả callback sẽ hiển thị ở đây.</div>
  </div>

  <hr>

  <div>
    <p>Ví dụ hàm đệ quy (giai thừa)</p>
    <div id="output6">Kết quả đệ quy sẽ hiển thị ở đây.</div>
  </div>

  <hr>

  <div>
    <p>Ví dụ câu lệnh if (phân loại điểm)</p>
    <div id="output7">Kết quả if sẽ hiển thị ở đây.</div>
  </div>

  <hr>

  <div>
    <p>Ví dụ câu lệnh switch (kiểm tra thứ trong tuần)</p>
    <div id="output8">Kết quả switch sẽ hiển thị ở đây.</div>
  </div>

  <hr>

  <div>
    <p>Ví dụ for: in số từ 1 đến 5</p>
    <div id="output9">Kết quả for sẽ hiển thị ở đây.</div>

    <p>Ví dụ lặp qua mảng fruits</p>
    <div id="output10">Kết quả mảng sẽ hiển thị ở đây.</div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // điổi kiểu dữ liệu
      function runDemo() {
        var x = "Lập trình Web"; x = 10;
        var y = "20";
        var z = x + y;
        var n = parseInt("50", 10);
        const out = document.getElementById("output");
        out.innerHTML =
          `<div>x = ${x} (number)</div>
           <div>y = ${y} (string)</div>
           <div>z = ${z} (string)</div>
           <div>n = ${n} (number)</div>`;
        console.log({ x, y, z, n });
      }
      document.getElementById("runBtn").addEventListener('click', runDemo);

      // add: hàm ẩn danh với giá trị preset
      var add = function(a, b) { return a + b; };
      (function(){
        var a = 5, b = 10;
        var result = add(a, b);
        document.getElementById("output2").textContent = `add(${a}, ${b}) = ${result}`;
        console.log(`add(${a},${b}) =`, result);
      })();

      // multiply: hàm ẩn danh
      var multiply = function(a, b) { return a * b; };
      var multResult = multiply(6, 4);
      document.getElementById('output3').textContent = `multiply(6,4) = ${multResult}`;

      // arrow function
      const multiplyArrow = (a,b) => a * b;
      document.getElementById('output4').textContent = `multiplyArrow(4,5) = ${multiplyArrow(4,5)}`;

      // callback function
      function doOperation(a, b, operation) { return operation(a, b); }
      const sumViaCallback = doOperation(7, 3, (x,y) => x + y);
      function sub(x,y){ return x - y; }
      const subViaCallback = doOperation(10, 4, sub);
      document.getElementById('output5').textContent =
        `sumViaCallback (7+3) = ${sumViaCallback} ; subViaCallback (10-4) = ${subViaCallback}`;

      // đệ quy: factorial
      function factorial(n){
        if(n < 0) return undefined;
        if(n === 0 || n === 1) return 1;
        return n * factorial(n - 1);
      }
      const f5 = 5;
      document.getElementById('output6').textContent = `factorial(${f5}) = ${factorial(f5)}`;

      // if 
      (function(){
        let score = 85;
        let grade;
        if (score >= 90) grade = 'Xếp loại A';
        else if (score >= 75) grade = 'Xếp loại B';
        else grade = 'Xếp loại C';
        document.getElementById('output7').textContent = `score = ${score} => ${grade}`;
      })();

      // switch 
      (function(){
        const dayNumber = 3;
        let dayName;
        switch(dayNumber){
          case 1: dayName='Thứ Hai'; break;
          case 2: dayName='Thứ Ba'; break;
          case 3: dayName='Thứ Tư'; break;
          case 4: dayName='Thứ Năm'; break;
          case 5: dayName='Thứ Sáu'; break;
          case 6: dayName='Thứ Bảy'; break;
          case 7: dayName='Chủ Nhật'; break;
          default: dayName='Không hợp lệ (1..7)';
        }
        document.getElementById('output8').textContent = `dayNumber = ${dayNumber} => ${dayName}`;
      })();

      // for 1..5 and fruits array
      (function(){
        const nums = [];
        for(let i=1;i<=5;i++) nums.push(i);
        document.getElementById('output9').textContent = nums.join(' ');

        const fruits = ['apple','banana','orange'];
        document.getElementById('output10').textContent =
          fruits.map((f,idx) => `${idx+1}. ${f}`).join('\\n');
      })();
    });
  </script>
</body>
</html>